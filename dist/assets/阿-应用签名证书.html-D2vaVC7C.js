import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,b as i,a as l,d as a,o as s}from"./app-Bi9sAhmd.js";const o={},r=l("p",null," ",-1),p=a('<h1 id="应用签名证书" tabindex="-1"><a class="header-anchor" href="#应用签名证书"><span>应用签名证书</span></a></h1><p>DevEco中配置鸿蒙应用签名，生成签名所需要用到的数字证书(.cer文件)、Profile文件（.p7b文件）、证书文件（.cer文件），其实很简单，主要记住签名文件生成输入的密码等信息，后面保持一致就可以。</p><h2 id="生成密钥和证书请求文件" tabindex="-1"><a class="header-anchor" href="#生成密钥和证书请求文件"><span>生成密钥和证书请求文件</span></a></h2><h3 id="生成密钥" tabindex="-1"><a class="header-anchor" href="#生成密钥"><span>生成密钥</span></a></h3><p>首先，在DevEco Studio开发工具上，选择Build--&gt;Generate Key and CSR。</p><img src="https://jitems.github.io/blog/bk667.png" alt="solar"><p>在Generate Key界面中，继续填写密钥信息后，点击Next。</p><ul><li>Alias：密钥的别名信息，用于标识密钥名称。请记住该别名，后续签名配置需要使用。</li><li>Password：密钥对应的密码，与密钥库密码保持一致，无需手动输入。</li><li>Validity：证书有效期。</li><li>Certificate：输入证书基本信息，如组织、城市或地区、国家码等。</li></ul><img src="https://jitems.github.io/blog/bk668.png" alt="solar"><img src="https://jitems.github.io/blog/bk669.png" alt="solar"><p>点击Next</p><h2 id="生成证书请求文件" tabindex="-1"><a class="header-anchor" href="#生成证书请求文件"><span>生成证书请求文件</span></a></h2><p>接上面，继续填入信息。</p><img src="https://jitems.github.io/blog/bk670.png" alt="solar"><p>在Generate CSR界面，选择密钥和设置CSR文件存储路径。</p><img src="https://jitems.github.io/blog/bk671.png" alt="solar"><p>Finish</p><img src="https://jitems.github.io/blog/bk672.png" alt="solar"><p>生成文件</p><img src="https://jitems.github.io/blog/bk673.png" alt="solar"><h2 id="申请应用调试证书" tabindex="-1"><a class="header-anchor" href="#申请应用调试证书"><span>申请应用调试证书</span></a></h2><p>我们需要打开<a href="https://developer.huawei.com/consumer/cn/service/josp/agc/index.html#/" target="_blank" rel="noopener noreferrer">AppGallery Connect</a>网站，这里需要登陆。</p><img src="https://jitems.github.io/blog/bk674.png" alt="solar"><p>登陆后，选择用户与访问</p><img src="https://jitems.github.io/blog/bk675.png" alt="solar"><p>在左侧导航栏选择“证书管理”，进入证书管理页面，点击“新增证书”。</p><img src="https://jitems.github.io/blog/bk676.png" alt="solar"><p>在弹出的“新增证书”窗口，填写要申请的证书信息，点击“提交”。</p><img src="https://jitems.github.io/blog/bk677.png" alt="solar"><p>然后在证书管理页面，我们就可以看到刚刚添加好的调试证书了。还展示了证书名称、证书类型和失效日期。我们得下载这个证书，到本地。</p><ul><li>点击“下载”，可下载证书。</li><li>点击“废除”，在确认框中点击“确认”，可废除证书。</li></ul><img src="https://jitems.github.io/blog/bk678.png" alt="solar"><h2 id="获取uuid" tabindex="-1"><a class="header-anchor" href="#获取uuid"><span>获取UUID</span></a></h2><p>手机的UDID获取方法如下： 打开“设置 &gt; 关于手机”，多次点击版本号，打开开发者模式。 打开“设置 &gt; 系统和更新”，在最下方找到“开发人员选项”，打开“USB调试”开关。</p><img src="https://jitems.github.io/blog/bk679.png" alt="solar"><p>使用PC连接手机后，打开命令行工具，进入HDC目录（一般为：HarmonyOS SDK安装目录/toolchains/{版本号}），输入hdc shell bm get --udid命令，获取设备的UDID。</p><img src="https://jitems.github.io/blog/bk680.png" alt="solar"><p><strong>注意：我在第一次选择的是3.1.0目录下的toolchains，是没有获取到udid，换成3.0.0_8目录下的toolchains才获取到，所以当获取不到的时候，换版本试一试</strong></p><img src="https://jitems.github.io/blog/bk681.png" alt="solar"><h3 id="注册调试设备" tabindex="-1"><a class="header-anchor" href="#注册调试设备"><span>注册调试设备</span></a></h3><p>还是刚刚到页面，我们点击设备管理。进入设备管理页面，点击右上角的“添加设备”。</p><img src="https://jitems.github.io/blog/bk682.png" alt="solar"><p>在弹出窗口填写设备信息，点击“提交”。</p><h2 id="获取profile" tabindex="-1"><a class="header-anchor" href="#获取profile"><span>获取Profile</span></a></h2><p><strong>1、我们首先要创建一个项目，然后选择我的项目：</strong></p><img src="https://jitems.github.io/blog/bk683.png" alt="solar"><p>添加项目</p><img src="https://jitems.github.io/blog/bk684.png" alt="solar"><p>填写项目名称</p><img src="https://jitems.github.io/blog/bk685.png" alt="solar"><p><strong>2、该项目下创建一个应用。</strong></p><img src="https://jitems.github.io/blog/bk686.png" alt="solar"><p>填入应用信息：</p><p>选择平台：选择APP（HarmonyOS应用）。 支持设备：选择调试的设备类型。 应用包名：必须与app.json5文件中的“bundleName”取值保持一致。 应用名称、应用分类、默认语言请根据实际需要进行设置。 <img src="https://jitems.github.io/blog/bk687.png" alt="solar"></p><img src="https://jitems.github.io/blog/bk688.png" alt="solar"><p>3、选择“HarmonyOS应用 &gt; HAP Provision Profile管理”，进入“管理HAP Provision Profile”页面，点击右上角“添加”。</p><img src="https://jitems.github.io/blog/bk689.png" alt="solar"><p>在弹出的“HarmonyAppProvision信息”窗口添加调试Profile，填入信息：</p><img src="https://jitems.github.io/blog/bk690.png" alt="solar"><p>调试Profile申请成功后，“管理HAP Provision Profile”页面展示Profile名称、Profile类型、添加的证书和失效日期。这里，我们得下载下来。</p><p>点击“下载”，可下载Profile文件。 点击“删除”，在确认框中点击“确认”，可删除Profile文件。 点击“查看设备”，可查看Profile绑定的调试设备。</p><img src="https://jitems.github.io/blog/bk691.png" alt="solar"><p>到此，我们有了应用调试证书：wst.cer，和Profile文件；helloDebug.p7b</p><img src="https://jitems.github.io/blog/bk692.png" alt="solar"><h2 id="签名" tabindex="-1"><a class="header-anchor" href="#签名"><span>签名</span></a></h2><p>接下来，我们要进行签名。打开File下的Project Structure。</p><img src="https://jitems.github.io/blog/bk693.png" alt="solar"><p>进行签名：</p><img src="https://jitems.github.io/blog/bk694.png" alt="solar"><p>签完后，可以在build.gradle文件下可以查看签名信息：</p><img src="https://jitems.github.io/blog/bk695.png" alt="solar"><h2 id="编译生成带签名的hap" tabindex="-1"><a class="header-anchor" href="#编译生成带签名的hap"><span>编译生成带签名的hap</span></a></h2><img src="https://jitems.github.io/blog/bk696.png" alt="solar"><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>目前打包出来的hap还不能直接安装</p><p>HongmengSDK\\toolchains\\ 这里有hdc工具，可以加到path里，查看help指令，比如 hdc app install -r xxx.hap</p><img src="https://jitems.github.io/blog/bk697.png" alt="solar">',77);function n(h,g){return s(),e("div",null,[r,i(" more "),p])}const b=t(o,[["render",n],["__file","阿-应用签名证书.html.vue"]]),d=JSON.parse('{"path":"/%E5%89%8D%E7%AB%AF/%E9%B8%BF%E8%92%99%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/%E9%98%BF-%E5%BA%94%E7%94%A8%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6.html","title":"应用签名证书","lang":"zh-CN","frontmatter":{"title":"应用签名证书","order":1,"category":["前端"],"tag":["HarmonyOS"],"head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/%E5%89%8D%E7%AB%AF/%E9%B8%BF%E8%92%99%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/%E9%98%BF-%E5%BA%94%E7%94%A8%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6.html"}],["meta",{"property":"og:site_name","content":"遐想的猫"}],["meta",{"property":"og:title","content":"应用签名证书"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-10T06:34:54.000Z"}],["meta",{"property":"article:author","content":"Mr.Liu"}],["meta",{"property":"article:tag","content":"HarmonyOS"}],["meta",{"property":"article:modified_time","content":"2024-07-10T06:34:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"应用签名证书\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-07-10T06:34:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Liu\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"生成密钥和证书请求文件","slug":"生成密钥和证书请求文件","link":"#生成密钥和证书请求文件","children":[{"level":3,"title":"生成密钥","slug":"生成密钥","link":"#生成密钥","children":[]}]},{"level":2,"title":"生成证书请求文件","slug":"生成证书请求文件","link":"#生成证书请求文件","children":[]},{"level":2,"title":"申请应用调试证书","slug":"申请应用调试证书","link":"#申请应用调试证书","children":[]},{"level":2,"title":"获取UUID","slug":"获取uuid","link":"#获取uuid","children":[{"level":3,"title":"注册调试设备","slug":"注册调试设备","link":"#注册调试设备","children":[]}]},{"level":2,"title":"获取Profile","slug":"获取profile","link":"#获取profile","children":[]},{"level":2,"title":"签名","slug":"签名","link":"#签名","children":[]},{"level":2,"title":"编译生成带签名的hap","slug":"编译生成带签名的hap","link":"#编译生成带签名的hap","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]}],"git":{"createdTime":1720591787000,"updatedTime":1720593294000,"contributors":[{"name":"test","email":"email","commits":2}]},"readingTime":{"minutes":4.11,"words":1234},"filePathRelative":"前端/鸿蒙开发教程/阿-应用签名证书.md","localizedDate":"2024年7月10日","excerpt":"<p>&nbsp;</p>\\n"}');export{b as comp,d as data};
